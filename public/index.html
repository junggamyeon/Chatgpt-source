<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Photobooth Vui Nh·ªôn</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.webrtc-experiment.com/RecordRTC.js"></script>
</head>
<body>
    <div class="app-container">
        <div class="header">
            <h1><i class="fas fa-camera-retro"></i> PHOTOBOOTH VUI NH·ªòN</h1>
        </div>
        
        <div class="main-content">
            <!-- Settings Panel -->
            <div class="settings-panel" id="settingsPanel">
                <h2><i class="fas fa-cog"></i> C√†i ƒë·∫∑t tr∆∞·ªõc khi ch·ª•p</h2>
                
                <div class="option-group">
                    <h3><i class="fas fa-images"></i> S·ªë l∆∞·ª£ng ·∫£nh</h3>
                    <select id="photoCountSelect" class="form-select">
                        <option value="1">1 ·∫£nh</option>
                        <option value="2">2 ·∫£nh</option>
                        <option value="3">3 ·∫£nh</option>
                        <option value="4" selected>4 ·∫£nh</option>
                        <option value="5">5 ·∫£nh</option>
                        <option value="6">6 ·∫£nh</option>
                    </select>
                </div>
                
                <div class="option-group">
                    <h3><i class="fas fa-clock"></i> Th·ªùi gian ƒë·∫øm ng∆∞·ª£c</h3>
                    <input type="range" id="countdownSlider" min="1" max="5" value="3">
                    <span id="countdownValue">3 gi√¢y</span>
                </div>
                
                <div class="option-group">
                    <h3><i class="fas fa-stopwatch"></i> Th·ªùi gian gi·ªØa c√°c ·∫£nh</h3>
                    <input type="range" id="intervalSlider" min="1" max="10" value="4">
                    <span id="intervalValue">4 gi√¢y</span>
                </div>
                
                <button id="confirmSettingsBtn" class="btn btn-primary">
                    <i class="fas fa-check"></i> X√°c nh·∫≠n
                </button>
            </div>
            
            <!-- Camera View -->
            <div class="camera-view" id="cameraView" style="display:none;">
                <video id="video" autoplay playsinline></video>
                <div id="countdown" class="countdown"></div>
            </div>
            
            <!-- Canvas (hidden) -->
            <canvas id="canvas" style="display:none;"></canvas>
            
            <!-- Controls -->
            <div class="controls" id="controls" style="display:none;">
                <button id="startBtn" class="btn btn-primary">
                    <i class="fas fa-play"></i> B·∫Øt ƒë·∫ßu
                </button>
                <button id="retakeBtn" class="btn btn-secondary" disabled>
                    <i class="fas fa-redo"></i> L√†m l·∫°i
                </button>
                <button id="editBtn" class="btn btn-primary" disabled>
                    <i class="fas fa-magic"></i> Trang tr√≠
                </button>
            </div>
            
            <!-- Thumbnail Preview -->
            <div class="thumbnails" id="thumbnails"></div>
        </div>
        
        <!-- Edit Panel (initially hidden) -->
        <div class="edit-panel" id="editPanel">
            <div class="edit-header">
                <h2><i class="fas fa-edit"></i> Trang tr√≠ ·∫£nh</h2>
                <button id="closeEditBtn" class="btn btn-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="edit-options">
                <!-- Tab Navigation -->
                <div class="edit-tabs">
                    <button class="tab-btn active" data-tab="stickers-tab"><i class="fas fa-sticky-note"></i> Sticker</button>
                    <button class="tab-btn" data-tab="frames-tab"><i class="fas fa-border-style"></i> Khung ·∫£nh</button>
                    <button class="tab-btn" data-tab="layout-tab"><i class="fas fa-th"></i> B·ªë c·ª•c</button>
                    <button class="tab-btn" data-tab="export-tab"><i class="fas fa-file-export"></i> Xu·∫•t ·∫£nh</button>
                </div>
                
                <!-- Stickers Tab -->
                <div id="stickers-tab" class="tab-content active">
                    <h3><i class="fas fa-icons"></i> Ch·ªçn sticker</h3>
                    <div class="sticker-options">
                        <!-- Emoji Stickers -->
                        <div class="sticker-option" data-sticker="üòÄ"><span>üòÄ</span></div>
                        <div class="sticker-option" data-sticker="üòç"><span>üòç</span></div>
                        <div class="sticker-option" data-sticker="üòÇ"><span>üòÇ</span></div>
                        <div class="sticker-option" data-sticker="ü•∞"><span>ü•∞</span></div>
                        <div class="sticker-option" data-sticker="ü§©"><span>ü§©</span></div>
                        <div class="sticker-option" data-sticker="üòé"><span>üòé</span></div>
                        
                        <!-- Icon Stickers -->
                        <div class="sticker-option" data-sticker="heart"><i class="fas fa-heart"></i></div>
                        <div class="sticker-option" data-sticker="star"><i class="fas fa-star"></i></div>
                        <div class="sticker-option" data-sticker="camera"><i class="fas fa-camera"></i></div>
                        <div class="sticker-option" data-sticker="music"><i class="fas fa-music"></i></div>
                        <div class="sticker-option" data-sticker="cat"><i class="fas fa-cat"></i></div>
                        <div class="sticker-option" data-sticker="dog"><i class="fas fa-dog"></i></div>
                    </div>
                    
                    <h3><i class="fas fa-palette"></i> M√†u s·∫Øc sticker</h3>
                    <div class="color-options">
                        <div class="color-option" data-color="#FF6B6B" style="background-color: #FF6B6B;"></div>
                        <div class="color-option" data-color="#4ECDC4" style="background-color: #4ECDC4;"></div>
                        <div class="color-option" data-color="#FFE66D" style="background-color: #FFE66D;"></div>
                        <div class="color-option" data-color="#A5D8FF" style="background-color: #A5D8FF;"></div>
                        <div class="color-option" data-color="#C8B6FF" style="background-color: #C8B6FF;"></div>
                        <div class="color-option" data-color="#FF9E7D" style="background-color: #FF9E7D;"></div>
                    </div>
                    
                    <div class="option-group">
                        <button id="clearStickersBtn" class="btn btn-secondary">
                            <i class="fas fa-trash"></i> X√≥a sticker
                        </button>
                    </div>
                </div>
                
                <!-- Frames Tab -->
                <div id="frames-tab" class="tab-content">
                    <h3><i class="fas fa-image"></i> Ch·ªçn khung ·∫£nh</h3>
                    <div class="frame-options">
                        <div class="frame-option" data-frame="none">
                            <div class="no-frame">Kh√¥ng khung</div>
                            <span>Tr∆°n</span>
                        </div>
                        <div class="frame-option" data-frame="polaroid">
                            <div class="frame-preview polaroid"></div>
                            <span>Polaroid</span>
                        </div>
                        <div class="frame-option" data-frame="vintage">
                            <div class="frame-preview vintage"></div>
                            <span>Vintage</span>
                        </div>
                        <div class="frame-option" data-frame="modern">
                            <div class="frame-preview modern"></div>
                            <span>Hi·ªán ƒë·∫°i</span>
                        </div>
                        <div class="frame-option" data-frame="wooden">
                            <div class="frame-preview wooden"></div>
                            <span>G·ªó</span>
                        </div>
                        <div class="frame-option" data-frame="fancy">
                            <div class="frame-preview fancy"></div>
                            <span>Sang tr·ªçng</span>
                        </div>
                    </div>
                    
                    <div class="option-group" id="frameColorGroup" style="display:none;">
                        <h3><i class="fas fa-palette"></i> M√†u khung</h3>
                        <div class="color-options">
                            <div class="color-option" data-bgcolor="#FFFFFF" style="background-color: #FFFFFF; border: 1px solid #ddd;"></div>
                            <div class="color-option" data-bgcolor="#F5F5F5" style="background-color: #F5F5F5; border: 1px solid #ddd;"></div>
                            <div class="color-option" data-bgcolor="#FFE6E6" style="background-color: #FFE6E6;"></div>
                            <div class="color-option" data-bgcolor="#E6F3FF" style="background-color: #E6F3FF;"></div>
                            <div class="color-option" data-bgcolor="#E6FFE6" style="background-color: #E6FFE6;"></div>
                            <div class="color-option" data-bgcolor="#FFF2E6" style="background-color: #FFF2E6;"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Layout Tab -->
                <div id="layout-tab" class="tab-content">
                    <h3><i class="fas fa-th-large"></i> Ch·ªçn b·ªë c·ª•c</h3>
                    <div class="layout-options">
                        <div class="layout-option" data-layout="horizontal">
                            <div class="layout-preview horizontal">
                                <div></div><div></div><div></div><div></div>
                            </div>
                            <span>Ngang</span>
                        </div>
                        <div class="layout-option" data-layout="vertical">
                            <div class="layout-preview vertical">
                                <div></div><div></div><div></div><div></div>
                            </div>
                            <span>D·ªçc</span>
                        </div>
                        <div class="layout-option" data-layout="2x2">
                            <div class="layout-preview grid">
                                <div></div><div></div><div></div><div></div>
                            </div>
                            <span>L∆∞·ªõi 2x2</span>
                        </div>
                    </div>
                    
                    <div class="option-group">
                        <h3><i class="fas fa-border-all"></i> Kho·∫£ng c√°ch</h3>
                        <input type="range" id="spacingSlider" min="0" max="50" value="10">
                    </div>
                </div>
                
                <!-- Export Tab -->
                <div id="export-tab" class="tab-content">
                    <div class="option-group">
                        <h3><i class="fas fa-file-image"></i> ƒê·ªãnh d·∫°ng ·∫£nh</h3>
                        <select id="imageFormatSelect" class="form-select">
                            <option value="png">PNG (Ch·∫•t l∆∞·ª£ng cao)</option>
                            <option value="jpeg">JPEG (K√≠ch th∆∞·ªõc nh·ªè)</option>
                        </select>
                    </div>
                    
                    <div class="option-group">
                        <h3><i class="fas fa-file-video"></i> ƒê·ªãnh d·∫°ng video</h3>
                        <select id="videoFormatSelect" class="form-select">
                            <option value="webm">WebM (Ch·∫•t l∆∞·ª£ng cao)</option>
                            <option value="mp4">MP4 (T∆∞∆°ng th√≠ch r·ªông)</option>
                        </select>
                    </div>
                    
                    <div class="option-group">
                        <h3><i class="fas fa-file-archive"></i> Ch·∫•t l∆∞·ª£ng ·∫£nh</h3>
                        <input type="range" id="qualitySlider" min="0.1" max="1" step="0.1" value="0.9">
                        <span id="qualityValue">90%</span>
                    </div>
                </div>
            </div>
            
            <div class="edit-preview-container">
                <canvas id="editCanvas"></canvas>
                <div class="sticker-container" id="editStickerContainer"></div>
            </div>
            
            <div class="photo-selector">
                <h3><i class="fas fa-image"></i> Ch·ªçn ·∫£nh ƒë·ªÉ ch·ªânh s·ª≠a</h3>
                <div class="thumbnails-edit" id="thumbnailsEdit"></div>
            </div>
            
            <div class="edit-actions">
                <button id="saveEditBtn" class="btn btn-primary">
                    <i class="fas fa-save"></i> L∆∞u thay ƒë·ªïi
                </button>
                <button id="downloadBtn" class="btn btn-download">
                    <i class="fas fa-download"></i> T·∫£i ·∫£nh
                </button>
                <button id="downloadVideoBtn" class="btn btn-download">
                    <i class="fas fa-film"></i> T·∫£i video
                </button>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>